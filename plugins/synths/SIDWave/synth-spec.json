{
  "$schema": "../../templates/synth-spec.schema.json",
  "meta": {
    "name": "SID Wave",
    "id": "SIDWave",
    "code": "SdWv",
    "type": "hybrid",
    "voices": 4,
    "description": "8-bit wavetable synth inspired by the Commodore 64 SID chip",
    "inspiration": ["Commodore 64 SID", "MOS Technology 6581"]
  },
  "voice": {
    "oscillators": [
      {
        "id": "osc1",
        "sst": "PulseOscillator",
        "features": ["pwm", "level", "tune"]
      },
      {
        "id": "osc2",
        "sst": "PulseOscillator",
        "features": ["pwm", "level", "tune", "ring"]
      },
      {
        "id": "osc3",
        "sst": "PulseOscillator",
        "features": ["level", "tune"]
      }
    ],
    "filters": [
      {
        "id": "filter1",
        "sst": "CytomicSVF",
        "modes": ["LP12", "BP12", "HP12"],
        "keyTracking": false,
        "envAmount": false
      }
    ],
    "envelopes": [
      { "id": "env1", "type": "ADSR", "target": "amp" }
    ],
    "lfos": [],
    "modMatrix": {
      "slots": 0,
      "sources": [],
      "destinations": []
    }
  },
  "effects": [],
  "parameters": [
    { "id": "osc1_wave", "name": "Wave", "min": 0, "max": 3, "default": 1, "category": "osc1", "control": "select", "scale": "discrete" },
    { "id": "osc1_tune", "name": "Tune", "min": -24, "max": 24, "default": 0, "unit": "st", "category": "osc1", "control": "knob" },
    { "id": "osc1_pw", "name": "PW", "min": 0.05, "max": 0.95, "default": 0.5, "category": "osc1", "control": "knob" },
    { "id": "osc1_level", "name": "Level", "min": 0, "max": 1, "default": 0.8, "category": "osc1", "control": "knob" },

    { "id": "osc2_wave", "name": "Wave", "min": 0, "max": 3, "default": 0, "category": "osc2", "control": "select", "scale": "discrete" },
    { "id": "osc2_tune", "name": "Tune", "min": -24, "max": 24, "default": 0, "unit": "st", "category": "osc2", "control": "knob" },
    { "id": "osc2_pw", "name": "PW", "min": 0.05, "max": 0.95, "default": 0.5, "category": "osc2", "control": "knob" },
    { "id": "osc2_level", "name": "Level", "min": 0, "max": 1, "default": 0.5, "category": "osc2", "control": "knob" },
    { "id": "osc2_ring", "name": "Ring", "min": 0, "max": 1, "default": 0, "category": "osc2", "control": "knob" },

    { "id": "osc3_wave", "name": "Wave", "min": 0, "max": 3, "default": 2, "category": "osc3", "control": "select", "scale": "discrete" },
    { "id": "osc3_tune", "name": "Tune", "min": -24, "max": 24, "default": 0, "unit": "st", "category": "osc3", "control": "knob" },
    { "id": "osc3_level", "name": "Level", "min": 0, "max": 1, "default": 0.3, "category": "osc3", "control": "knob" },

    { "id": "bit_depth", "name": "Bits", "min": 4, "max": 16, "default": 8, "category": "lofi", "control": "knob", "scale": "discrete" },
    { "id": "sample_rate", "name": "Rate", "min": 0, "max": 1, "default": 1, "category": "lofi", "control": "knob" },

    { "id": "filter_cutoff", "name": "Cutoff", "min": 20, "max": 20000, "default": 8000, "unit": "Hz", "scale": "log", "category": "filter", "control": "knob", "cc": 74 },
    { "id": "filter_reso", "name": "Reso", "min": 0, "max": 1, "default": 0.2, "category": "filter", "control": "knob", "cc": 71 },
    { "id": "filter_type", "name": "Type", "min": 0, "max": 2, "default": 0, "category": "filter", "control": "select", "scale": "discrete" },

    { "id": "amp_attack", "name": "Attack", "min": 0.001, "max": 2, "default": 0.01, "unit": "s", "category": "amp", "control": "adsr" },
    { "id": "amp_decay", "name": "Decay", "min": 0.001, "max": 2, "default": 0.2, "unit": "s", "category": "amp", "control": "adsr" },
    { "id": "amp_sustain", "name": "Sustain", "min": 0, "max": 1, "default": 0.7, "category": "amp", "control": "adsr" },
    { "id": "amp_release", "name": "Release", "min": 0.001, "max": 2, "default": 0.3, "unit": "s", "category": "amp", "control": "adsr" },

    { "id": "master_level", "name": "Volume", "min": 0, "max": 1, "default": 0.8, "category": "output", "control": "knob" }
  ],
  "ui": {
    "layout": [
      { "section": "osc1", "label": "OSC 1", "params": ["osc1_wave", "osc1_tune", "osc1_pw", "osc1_level"] },
      { "section": "osc2", "label": "OSC 2", "params": ["osc2_wave", "osc2_tune", "osc2_pw", "osc2_level", "osc2_ring"] },
      { "section": "osc3", "label": "OSC 3", "params": ["osc3_wave", "osc3_tune", "osc3_level"] },
      { "section": "lofi", "label": "LO-FI", "params": ["bit_depth", "sample_rate"] },
      { "section": "filter", "label": "FILTER", "params": ["filter_cutoff", "filter_reso", "filter_type"] },
      { "section": "amp", "label": "AMP", "params": ["amp_attack", "amp_decay", "amp_sustain", "amp_release", "master_level"] }
    ],
    "theme": "dark"
  }
}
